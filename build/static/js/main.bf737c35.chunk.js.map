{"version":3,"sources":["StateProvider.js","components/Product.js","components/Home.js","firebase.js","components/Header.js","components/Login.js","components/CheckoutProduct.js","reducers/reducer.js","components/Subtotal.js","components/Checkout.js","components/Order.js","components/Orders.js","axios.js","components/Payment.js","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Product","id","title","image","price","rating","dispatch","basket","className","Array","fill","map","_","i","src","alt","onClick","type","item","Home","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","Header","user","to","signOut","email","length","Login","history","useHistory","useState","setEmail","password","setPassword","onChange","e","target","preventDefault","signInWithEmailAndPassword","then","push","catch","error","alert","message","createUserWithEmailAndPassword","CheckoutProduct","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","renderText","decimalScale","displayType","thousandSeparator","suffix","Checkout","Order","order","moment","unix","data","created","format","Orders","orders","setOrders","useEffect","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","setError","disabled","setDisabled","succeeded","setSucceeded","processing","setProcessing","clientSecret","setClientSecret","a","method","url","response","getClientSecret","log","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","set","replace","onSubmit","event","empty","promise","loadStripe","App","onAuthStateChanged","authUser","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf737c35.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\n// Prepares the dataLayer\nexport const StateContext = createContext();\n\n// Wrap our app and provide the Data layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\n// Pull information from the data layer\nexport const useStateValue = () => useContext(StateContext);\n","import React from \"react\";\nimport \"./Product.css\";\nimport { useStateValue } from \"../StateProvider\";\n\nfunction Product({ id, title, image, price, rating }) {\n  const [{ basket }, dispatch] = useStateValue();\n\n  const addToBasket = () => {\n    // dispatch the item into the data layer\n    dispatch({\n      type: \"ADD_TO_BASKET\",\n      item: {\n        id: id,\n        title: title,\n        image: image,\n        price: price,\n        rating: rating,\n      },\n    });\n  };\n\n  return (\n    <div className=\"product\">\n      <div className=\"product__info\">\n        <p>{title}</p>\n        <p className=\"product__price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n        <div className=\"product__rating\">\n          {Array(rating)\n            .fill()\n            .map((_, i) => (\n              <p>🌟</p>\n            ))}\n        </div>\n      </div>\n\n      <img src={image} alt=\"\" />\n\n      <button onClick={addToBasket}>Ajouter au panier</button>\n    </div>\n  );\n}\n\nexport default Product;\n","import React from \"react\";\nimport \"./Home.css\";\nimport Product from \"./Product\";\n\nconst Home = () => {\n  return (\n    <div className=\"home\">\n      <div className=\"home__container\">\n        <img\n          className=\"home__image\"\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/08/digital/video/gateway/placement/launch/DuncanvilleS1/DUNCA_2020_GWBleedingHero_FT_COVIDUPDATE_XSite_1500x600_PV_fr-FR._CB416312271_.jpg\"\n          alt=\"\"\n        />\n\n        <div className=\"home__row\">\n          <Product\n            id=\"12321341\"\n            title=\"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses Paperback\"\n            price={11.96}\n            rating={5}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._SX325_BO1,204,203,200_.jpg\"\n          />\n          <Product\n            id=\"49538094\"\n            title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\n            price={239.0}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/81O%2BGNdkzKL._AC_SX450_.jpg\"\n          />\n\n          <Product\n            id=\"4903850\"\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\n            price={199.99}\n            rating={3}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\n          />\n          <Product\n            id=\"23445930\"\n            title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\n            price={98.99}\n            rating={5}\n            image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\n          />\n          <Product\n            id=\"3254354345\"\n            title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\n            price={598.99}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\n          />\n          <Product\n            id=\"90829332\"\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\n            price={1094.98}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import firebase from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAFl__D3bxKdNGjm76aTZvnYN09103U4YE\",\n  authDomain: \"mama-zon.firebaseapp.com\",\n  databaseURL: \"https://mama-zon.firebaseio.com\",\n  projectId: \"mama-zon\",\n  storageBucket: \"mama-zon.appspot.com\",\n  messagingSenderId: \"901177555423\",\n  appId: \"1:901177555423:web:8d9e3132edf46c5777ec6a\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebase.auth();\n\nexport { db, auth };\n","import React from \"react\";\nimport \"./Header.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from \"../StateProvider\";\nimport { auth } from \"../firebase\";\n\nconst Header = () => {\n  const [{ basket, user }, dispatch] = useStateValue();\n\n  //checks if the user is logged in or not, if else, logs out when the user clicks on the greeting\n  const handleAuthenticaton = () => {\n    if (user) {\n      auth.signOut();\n    }\n  };\n\n  return (\n    <div className=\"header\">\n      <Link to=\"/\">\n        <img\n          className=\"header__logo\"\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\n          alt=\"amazon-logo\"\n        />\n      </Link>\n\n      <div className=\"header__search\">\n        <input className=\"header__searchInput\" type=\"text\" />\n        <SearchIcon className=\"header__searchIcon\" />\n      </div>\n\n      <div className=\"header__nav\">\n        {/* if not user, then redirect to login page */}\n        <Link to={!user && \"/Login\"}>\n          <div className=\"header__option\" onClick={handleAuthenticaton}>\n            <span className=\"header__optionLineOne\">\n              {!user ? \"Identifiez-vous\" : user.email}\n            </span>\n            <span className=\"header__optionLineTwo\">\n              {!user ? \"Connexion\" : \"Déconnexion\"}\n            </span>\n          </div>\n        </Link>\n        <Link to={!user ? \"/Login\" : \"/orders\"}>\n          <div className=\"header__option\">\n            <span className=\"header__optionLineOne\">Retours et</span>\n            <span className=\"header__optionLineTwo\">Commandes</span>\n          </div>\n        </Link>\n        <div className=\"header__option\">\n          <span className=\"header__optionLineOne\">Votre</span>\n          <span className=\"header__optionLineTwo\">Prime</span>\n        </div>\n\n        <Link to=\"/checkout\">\n          <div className=\"header__optionBasket\">\n            <ShoppingBasketIcon />\n            <span className=\"header__optionLineTwo header__basketCount\">\n              {basket?.length}\n            </span>\n          </div>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport \"./Login.css\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { auth } from \"../firebase\";\n\nconst Login = () => {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  //When the login button is pressed, the value of the states of textboxes\n  //are passed to Firebase to authenticate. Firebase does its magic, and if\n  //the authentication is successful returns a promise or throws an error.\n  const signIn = (e) => {\n    //prevent the page from reloading because of the form tag\n    e.preventDefault();\n\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .then((auth) => {\n        history.push(\"/\");\n      })\n      .catch((error) => alert(error.message));\n  };\n\n  //Something similar to Signin happens with register.\n  //If there is another user with same details, Firebase got you covered.\n  const register = (e) => {\n    //prevent the page from reloading because of the form tag\n    e.preventDefault();\n\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((auth) => {\n        // it successfully created a new user with email and password\n        if (auth) {\n          history.push(\"/\");\n        }\n      })\n      .catch((error) => alert(error.message));\n  };\n\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          className=\"login__logo\"\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n          alt=\"logo\"\n        />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>S'identifier</h1>\n\n        <form>\n          <h5>Adresse E-mail</h5>\n          {/* Whenever the value of the textboxes change, we change the value of state */}\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <h5>Mot de passe</h5>\n          {/* Whenever the value of the textboxes change, we change the value of state */}\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <button\n            type=\"submit\"\n            onClick={signIn}\n            className=\"login__signInButton\"\n          >\n            S'identifier\n          </button>\n        </form>\n\n        <p>\n          En continuant, vous acceptez les conditions d'utilisation et la notice\n          Protection de vos informations personnelles de Mamazon.\n        </p>\n\n        <button onClick={register} className=\"login__registerButton\">\n          Créer votre compte Mamazon\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport \"./CheckoutProduct.css\";\nimport { useStateValue } from \"../StateProvider\";\n\nconst CheckoutProduct = ({ title, id, image, rating, price, hideButton }) => {\n  const [{ basket }, dispatch] = useStateValue();\n\n  const removeFromBasket = () => {\n    // remove the item based on id from the basket\n    dispatch({\n      type: \"REMOVE_FROM_BASKET\",\n      id: id,\n    });\n  };\n\n  return (\n    <div className=\"checkoutProduct\">\n      <img className=\"checkoutProduct__image\" src={image} alt=\"\" />\n\n      <div className=\"checkoutProduct__info\">\n        <p className=\"checkoutProduct__title\">{title}</p>\n        <p className=\"checkoutProduct__price\">\n          <strong>{price}</strong>\n          <small> €</small>\n        </p>\n        <div className=\"checkoutProduct__rating\">\n          {Array(rating)\n            .fill()\n            .map((_, i) => (\n              <p>🌟</p>\n            ))}\n        </div>\n        {!hideButton && <button onClick={removeFromBasket}>Supprimer</button>}\n      </div>\n    </div>\n  );\n};\n\nexport default CheckoutProduct;\n","export const initialState = {\n  basket: [],\n  user: null,\n};\n\n// Reducer to have the amount total of the basket\nexport const getBasketTotal = (basket) =>\n  basket?.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return {\n        ...state,\n        basket: [...state.basket, action.item],\n      };\n    case \"REMOVE_FROM_BASKET\":\n      const index = state.basket.findIndex(\n        (basketItem) => basketItem.id === action.id\n      );\n      let newBasket = [...state.basket];\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(\n          `Impossible de supprimer le produit (id: ${action.id}) car il n'est plus dans le panier!`\n        );\n      }\n      return {\n        ...state,\n        basket: newBasket,\n      };\n    case \"EMPTY_BASKET\":\n      return {\n        ...state,\n        basket: [],\n      };\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: action.user,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport \"./Subtotal.css\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { useStateValue } from \"../StateProvider\";\nimport { getBasketTotal } from \"../reducers/reducer\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Subtotal = () => {\n  const history = useHistory();\n  const [{ basket }, dispatch] = useStateValue();\n\n  return (\n    <div className=\"subtotal\">\n      <CurrencyFormat\n        renderText={(value) => (\n          <>\n            <p>\n              Sous-total ({basket.length} articles): <strong>{value}</strong>\n            </p>\n            <small className=\"subtotal__gift\">\n              <input type=\"checkbox\" /> Commande contenant un cadeau\n            </small>\n          </>\n        )}\n        decimalScale={2}\n        value={getBasketTotal(basket)}\n        displayType={\"text\"}\n        thousandSeparator={true}\n        suffix={\"€\"}\n      />\n      <button onClick={(e) => history.push(\"/payment\")}>\n        Passer la commande\n      </button>\n    </div>\n  );\n};\n\nexport default Subtotal;\n","import React from \"react\";\nimport \"./Checkout.css\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport Subtotal from \"./Subtotal\";\nimport { useStateValue } from \"../StateProvider\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"../reducers/reducer\";\n\nconst Checkout = () => {\n  const [{ basket }, dispatch] = useStateValue();\n\n  return (\n    <div className=\"checkout\">\n      <div className=\"checkout__left\">\n        <img\n          className=\"checkout__ad\"\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n          alt=\"\"\n        />\n\n        <div>\n          <h2 className=\"checkout__title\">Votre panier</h2>\n\n          {basket.map((item) => (\n            <CheckoutProduct\n              id={item.id}\n              title={item.title}\n              image={item.image}\n              price={item.price}\n              rating={item.rating}\n            />\n          ))}\n\n          <div className=\"checkout__bottomSubtotal\">\n            <CurrencyFormat\n              renderText={(value) => (\n                <>\n                  <p>\n                    Sous-total ({basket.length} articles):{\" \"}\n                    <strong>{value}</strong>\n                  </p>\n                </>\n              )}\n              decimalScale={2}\n              value={getBasketTotal(basket)}\n              displayType={\"text\"}\n              thousandSeparator={true}\n              suffix={\"€\"}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"checkout__right\">\n        <Subtotal />\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React from \"react\";\nimport \"./Order.css\";\nimport moment from \"moment\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport CurrencyFormat from \"react-currency-format\";\n\nconst Order = ({ order }) => {\n  return (\n    <div className=\"order\">\n      <h2>Commande</h2>\n      <p>{moment.unix(order.data.created).format(\"Do MMMM YYYY, h:mma\")}</p>\n      <p className=\"order__id\">\n        <small>{order.id}</small>\n      </p>\n      {order.data.basket?.map((item) => (\n        <CheckoutProduct\n          id={item.id}\n          title={item.title}\n          image={item.image}\n          price={item.price}\n          rating={item.rating}\n          hideButton\n        />\n      ))}\n      <CurrencyFormat\n        renderText={(value) => (\n          <h3 className=\"order__total\">Total commande: {value}</h3>\n        )}\n        decimalScale={2}\n        //divide the amount by 100 because the value is stored in cents\n        value={order.data.amount / 100}\n        displayType={\"text\"}\n        thousandSeparator={true}\n        suffix={\"€\"}\n      />\n    </div>\n  );\n};\n\nexport default Order;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Orders.css\";\nimport { db } from \"../firebase\";\nimport { useStateValue } from \"../StateProvider\";\nimport Order from \"./Order.js\"\n\nconst Orders = () => {\n  const [{ basket, user }, dispatch] = useStateValue();\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    if (user) {\n      db\n        //accessing user collection\n        .collection(\"users\")\n        //getting specific user logged in doc\n        .doc(user?.uid)\n        //accessing that user orders collection\n        .collection(\"orders\")\n        //order the orders in a descendent way by created date\n        .orderBy(\"created\", \"desc\")\n        //take all the orders docs filtered by date from the user orders collection\n        //and dispatch them inside the orders state\n        .onSnapshot((snapshot) =>\n          setOrders(\n            snapshot.docs.map((doc) => ({\n              id: doc.id,\n              data: doc.data(),\n            }))\n          )\n        );\n    } else {\n      setOrders([]);\n    }\n  }, [user]);\n\n  return (\n    <div className=\"orders\">\n      <h1>Vos commandes</h1>\n      <div className=\"orders__order\">\n          {orders?.map(order=>(\n              <Order order={order}/>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Orders;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  //backend api endpoint generated by firebase cloud functions\n  baseURL: \"https://us-central1-mama-zon.cloudfunctions.net/api\",\n  //localhost backend url : \"http://localhost:5001/mama-zon/us-central1/api\",\n});\n\nexport default instance;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Payment.css\";\nimport { useStateValue } from \"../StateProvider\";\nimport CheckoutProduct from \"./CheckoutProduct\";\nimport { Link } from \"react-router-dom\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { getBasketTotal } from \"../reducers/reducer\";\nimport axios from \"../axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { db } from \"../firebase\";\n\nconst Payment = () => {\n  const [{ user, basket }, dispatch] = useStateValue();\n\n  const stripe = useStripe();\n  const elements = useElements();\n  const history = useHistory();\n\n  const [error, setError] = useState(null);\n  const [disabled, setDisabled] = useState(true);\n  const [succeeded, setSucceeded] = useState(false);\n  const [processing, setProcessing] = useState(\"\");\n  const [clientSecret, setClientSecret] = useState(true);\n\n  useEffect(() => {\n    //generate the special stripe secret which allows us to charge a customer\n    const getClientSecret = async () => {\n      const response = await axios({\n        method: \"post\",\n        //stripe expects the total in currencies subunits\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`,\n      });\n      setClientSecret(response.data.clientSecret);\n    };\n    getClientSecret();\n  }, [basket]);\n\n  console.log(\"the secret is >>>>\", clientSecret);\n\n  //there is where stripe do its works\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setProcessing(true);\n\n    const payload = await stripe\n      .confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: elements.getElement(CardElement),\n        },\n      })\n      .then(({ paymentIntent }) => {\n        //paymentIntent =payment confirmation\n\n        db\n          //inside the cloud firestore db, access users collection\n          .collection(\"users\")\n          //find the user id\n          .doc(user?.uid)\n          //access the user orders collection\n          .collection(\"orders\")\n          //select the current order from the website\n          .doc(paymentIntent.id)\n          //set it inside the order collection of the user\n          .set({\n            basket: basket,\n            amount: paymentIntent.amount,\n            created: paymentIntent.created,\n          });\n\n        setSucceeded(true);\n        setError(null);\n        setProcessing(false);\n        dispatch({\n          type: \"EMPTY_BASKET\",\n        });\n        history.replace(\"/orders\");\n      });\n  };\n\n  const handleChange = (event) => {\n    //listen for CardElement changes\n    //display an errors as customers type their cards details\n    setDisabled(event.empty);\n    setError(event.error ? event.error.message : \"\");\n  };\n\n  return (\n    <div className=\"payment\">\n      <div className=\"payment__container\">\n        <h1>\n          Paiement (<Link to=\"/checkout\">{basket?.length} articles</Link>)\n        </h1>\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Adresse de livraison</h3>\n          </div>\n          <div className=\"payment__address\">\n            <p>{user?.email}</p>\n            <p>999 rue de dosimos</p>\n            <p>Paris, FR</p>\n          </div>\n        </div>\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Articles</h3>\n          </div>\n          <div className=\"payment__items\">\n            {basket.map((item) => (\n              <CheckoutProduct\n                id={item.id}\n                title={item.title}\n                image={item.image}\n                price={item.price}\n                rating={item.rating}\n              />\n            ))}\n          </div>\n        </div>\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Méthode de paiement</h3>\n          </div>\n          <div className=\"payment__details\">\n            <form onSubmit={handleSubmit}>\n              <CardElement onChange={handleChange} />\n              <div className=\"payment__priceContainer\">\n                <CurrencyFormat\n                  renderText={(value) => (\n                    <>\n                      <h3>Total commande : {value}</h3>\n                    </>\n                  )}\n                  decimalScale={2}\n                  value={getBasketTotal(basket)}\n                  displayType={\"text\"}\n                  thousandSeparator={true}\n                  suffix={\"€\"}\n                />\n                <button disabled={processing || disabled || succeeded}>\n                  <span>{processing ? <p>processing...</p> : \"Buy now\"}</span>\n                </button>\n              </div>\n              {error && <div>{error}</div>}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Payment;\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport Header from \"./components/Header\";\nimport Login from \"./components/Login\";\nimport Checkout from \"./components/Checkout\";\nimport Orders from \"./components/Orders\"\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport Payment from \"./components/Payment\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\nconst promise = loadStripe(\n  \"pk_test_51HotXHDxipgOn0RlIOiNDh0IWjBgSxbf2vGvDlHnML5BA08rY0UpD7XL3NgjZwnudt9WrNRe5PeWbl7TuDS7kY2f00mAtuCnA3\"\n);\n\nfunction App() {\n  const [{ user }, dispatch] = useStateValue();\n  useEffect(() => {\n    //put a listener to every user state change to dispatch the change inside the\n    //context api state provider\n    auth.onAuthStateChanged((authUser) => {\n      console.log(\"THE USER IS >>> \", authUser);\n\n      if (authUser) {\n        // the user just logged in / the user was logged in\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        // the user is logged out\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <Router>\n        <Switch>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path=\"/prime\">\n            <Header />\n            <h1>\n              Faut pas pousser, je vais pas recréer Amazon Prime non plus ;) !\n            </h1>\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reducer, { initialState } from \"./reducers/reducer\";\nimport { StateProvider } from \"./StateProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}